---
import Layout from '../../layouts/Layout.astro';
import { getCollection } from 'astro:content';

const posts = await getCollection('blog');
---

<Layout title="Blog">
  <div class="max-w-4xl mx-auto px-4 py-12">
    <h1 class="font-bubblegum text-4xl text-primary mb-8">School Blog</h1>
    
    <div class="space-y-8">
      {posts.map(post => (
        <article class="bg-white p-6 rounded-lg shadow-md">
          <h2 class="font-bubblegum text-2xl text-primary mb-2">
            <a href={`/blog/${post.slug}`} class="hover:text-secondary">
              {post.data.title}
            </a>
          </h2>
          <p class="text-gray-600 mb-4">{post.data.description}</p>
          <div class="text-sm text-gray-500">
            {new Date(post.data.pubDate).toLocaleDateString()}
          </div>
        </article>
      ))}
    </div>
  </div>
</Layout>